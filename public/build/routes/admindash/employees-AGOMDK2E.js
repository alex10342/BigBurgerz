import{f as l,g as m,h as u,i as f}from"/build/_shared/chunk-G2T34B7H.js";import{a as g}from"/build/_shared/chunk-DFJ6R3ZR.js";import{e as s,i}from"/build/_shared/chunk-KBFEZAWC.js";var w=s(g());var e=s(i());function d({employees:n,role:r,self:c}){let o=m();function p(a){return a.charAt(0).toUpperCase()+a.slice(1)}let y=a=>{o(a.currentTarget,{replace:!0})};return(0,e.jsxs)("div",{className:"bg-[#f9fafb] h-auto w-full rounded-b-md -translate-y-1 shadow-md z-10 flex flex-col items-center w-9/10 pb-5 mb-5",children:[n.length==0?(0,e.jsx)("div",{className:"flex justify-center w-full pt-6",children:(0,e.jsx)("span",{children:"No employees."})}):"",n.map((a,x)=>(0,e.jsxs)("div",{className:"grid grid-cols-4 bg-white rounded-lg w-11/12 h-auto shadow items-center mt-3 py-1",children:[(0,e.jsx)("h1",{className:"text-center",children:a.name}),(0,e.jsxs)("div",{className:"flex flex-col items-center",children:[(0,e.jsxs)("h3",{className:"text-center text-sm",children:["E: ",a.email]}),(0,e.jsxs)("h3",{className:"text-center text-sm",children:["Ph: ",a.phone]})]}),(0,e.jsx)("h1",{className:"text-center",children:p(a.role)}),(0,e.jsxs)(l,{method:"post",className:"flex justify-center",onChange:y,children:[(0,e.jsx)("input",{type:"hidden",name:"_action",value:"changeRole"}),(0,e.jsx)("input",{type:"hidden",name:"_user",value:a.email}),console.log(a.email,r),(0,e.jsxs)("select",{name:"updateRole",defaultValue:a.role,disabled:r!=="manager"||a.email==c,className:"bg-[#f9fafb] shadow w-3/5",children:[(0,e.jsx)("option",{value:"customer",children:"Customer"}),(0,e.jsx)("option",{value:"employee",children:"Employee"}),(0,e.jsx)("option",{value:"manager",children:"Manager"})]})]})]},x))]})}var t=s(i());function h(){let{role:n,employees:r,self:c}=u(),o=f(),p=m();return(0,t.jsxs)("div",{className:"col-start-2 col-span-2 h-screen w-[43rem] flex justify-start flex-col",children:[(0,t.jsxs)("div",{className:"bg-white h-14 w-full mt-[5rem] rounded shadow z-20 grid grid-cols-4 px-7 items-center",children:[(0,t.jsx)("h1",{className:"text-center",children:"Employee Name"}),(0,t.jsx)("h1",{className:"text-center",children:"Employee Contact"}),(0,t.jsx)("h1",{className:"text-center",children:"Role"}),(0,t.jsxs)("div",{className:"leading-none pt-2",children:[(0,t.jsx)("h1",{className:"text-center",children:"Edit"}),(0,t.jsx)("h2",{className:"text-center text-gray-600 text-sm",children:"Managers Only"})]})]}),(0,t.jsx)(d,{employees:r,role:n,self:c}),n==="manager"&&(0,t.jsxs)("div",{className:"bg-white h-auto w-full rounded shadow z-20 flex flex-col justify-center space-x-5 items-center",children:[(0,t.jsx)("span",{className:"mt-2",children:"Add employee from Email"}),(0,t.jsx)("span",{className:"text-red-500 text-sm",children:o&&o.newUser?o.newUser:""}),(0,t.jsxs)(l,{method:"post",className:"flex space-x-5 mb-3",children:[(0,t.jsx)("input",{type:"hidden",name:"_action",value:"add"}),(0,t.jsx)("input",{type:"text",name:"newUser",placeholder:"example@example.com",className:`border rounded py-1 px-2 ${o&&o.newUser?"border-red-400":"border-gray-400"}`}),(0,t.jsx)("button",{type:"submit",className:"bg-blue-500 text-white mr-7 py-1 px-3 hover:bg-indigo-600 rounded flex items-center",children:"Add"})]})]})]})}export{h as default};
